(this["webpackJsonpstyled-maps-editor"]=this["webpackJsonpstyled-maps-editor"]||[]).push([[0],{162:function(e,t,a){e.exports=a(309)},168:function(e,t,a){},190:function(e,t,a){},192:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},309:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(27),r=a.n(c),l=a(82),o=a.n(l),s=a(136),d=a(19),h=(a(168),a(83)),u=a(137),m=a.n(u),x=a(84),y=a.n(x),p=a(317),g=a(318),f=(a(190),function(e){var t=e.headlineText,a=e.secondaryText,n=e.sizes;return(i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"editor-wrapper circle",style:{width:n.width,height:n.height}},i.a.createElement("div",{className:"headline-text",style:{fontSize:t}},t),i.a.createElement("div",{id:"map",style:{width:"calc(".concat(n.width," / 1.7)"),height:"calc(".concat(n.width," / 1.7)")}}),i.a.createElement("div",{className:"secondary-text",style:{fontSize:a}},a))))}),w=(a(191),a(192),function(e){var t=e.headlineText,a=e.secondaryText,n=e.sizes;return(i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"editor-wrapper gradient",style:{width:n.width,height:n.height}},i.a.createElement("div",{id:"map"}),i.a.createElement("div",{className:"text-wrapper",style:{paddingBottom:"calc(".concat(n.height," / 18)")}},i.a.createElement("div",{className:"headline-text",style:{fontSize:n.headlineText}},t),i.a.createElement("div",{className:"secondary-text",style:{fontSize:n.secondaryText,marginTop:"calc(".concat(n.height," / 25)")}},a)))))}),v=(a(193),function(e){var t=e.sizes;return(i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"editor-wrapper without-text",style:{width:t.width,height:t.height}},i.a.createElement("div",{id:"map"}))))}),E=(a(194),function(e){var t=e.headlineText,a=e.secondaryText,n=e.sizes;return(i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"editor-wrapper rectangle",style:{width:n.width,height:n.height}},i.a.createElement("div",{id:"map",style:{height:"calc(".concat(n.height," / 1.45)")}}),i.a.createElement("div",{className:"text-wrapper"},i.a.createElement("div",{className:"headline-text",style:{sizes:t}},t),i.a.createElement("div",{className:"secondary-text",style:{sizes:a}},a)))))}),b=(a(195),function(e){var t=e.headlineText,a=e.secondaryText,n=e.sizes;return(i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"editor-wrapper circle-white",style:{width:n.width,height:n.height}},i.a.createElement("div",{className:"headline-text",style:{fontSize:t}},t),i.a.createElement("div",{id:"map",style:{width:"calc(".concat(n.width," / 1.7)"),height:"calc(".concat(n.width," / 1.7)")}}),i.a.createElement("div",{className:"secondary-text",style:{fontSize:a}},a))))}),T=(a(196),function(e){var t=e.headlineText,a=e.secondaryText,n=e.sizes;return(i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"editor-wrapper square",style:{width:n.width,height:n.height}},i.a.createElement("div",{id:"map",style:{width:"calc(".concat(n.width," / 1.5)"),height:"calc(".concat(n.width," / 1.5)"),marginLeft:"auto",marginRight:"auto",marginTop:"calc(".concat(n.height," / 14)")}}),i.a.createElement("div",{className:"text-wrapper"},i.a.createElement("div",{className:"headline-text"},t),i.a.createElement("div",{className:"secondary-text"},a)))))}),k={blue:"mapbox://styles/kubatyi/ckdn1lgk80nbp1il7tbjdqnxm",red:"mapbox://styles/kubatyi/ckdo7qi431s7n1io4ya13jmvq",green:"mapbox://styles/kubatyi/ckdogvd6721wt1ioii4wlls2a",simple:"mapbox://styles/kubatyi/ckdoglnu937ix1it80v32fsno",colorful:"mapbox://styles/kubatyi/ckev6d3slae0019qqpby7wmod"},j="pk.eyJ1Ijoia3ViYXR5aSIsImEiOiJjazA2cmtleDEwMTc5M2NwZ3N3Z2plcGdnIn0.Nio3ZaFI2366HS56tW28wQ",N=[{key:"1",text:"Gradient",value:"gradient"},{key:"2",text:"Without Text",value:"without_text"},{key:"3",text:"Circle",value:"circle"},{key:"4",text:"Circle (Light)",value:"circle-white"},{key:"5",text:"Rectangle",value:"rectangle"},{key:"6",text:"Square",value:"square"}],z={"8x10 (in)":{width:"8in",height:"10in",headlineText:70,secondaryText:30},"12x16 (in)":{width:"12in",height:"16in",headlineText:105,secondaryText:45},"12x18 (in)":{width:"12in",height:"18in",headlineText:105,secondaryText:45},"16x20 (in)":{width:"16in",height:"20in",headlineText:140,secondaryText:60},"18x24 (in)":{width:"18in",height:"24in",headlineText:157.5,secondaryText:67.5},"24x36 (in)":{width:"24in",height:"36in",headlineText:210,secondaryText:135}},O=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),l=Object(d.a)(r,2),u=l[0],x=l[1],O=Object(n.useState)(""),S=Object(d.a)(O,2),C=S[0],q=S[1],_=Object(n.useState)(""),F=Object(d.a)(_,2),R=F[0],I=F[1],J=Object(n.useState)("gradient"),L=Object(d.a)(J,2),Z=L[0],M=L[1],W=Object(n.useState)(null),B=Object(d.a)(W,2),G=B[0],H=B[1],Y=Object(n.useState)([0,0]),A=Object(d.a)(Y,2),D=A[0],Q=A[1],U=Object(n.useState)("8x10 (in)"),V=Object(d.a)(U,2),X=V[0],$=V[1],K=Object(n.useRef)(),P=Object(n.useCallback)((function(){if(G){var e={zoom:G.getZoom(),center:G.getCenter(),headlineText:C,secondaryText:R,layout:Z};window.parent.postMessage(JSON.stringify(e),"*")}}),[G,C,R,Z]);Object(n.useEffect)((function(){h.accessToken=j,G&&G.remove(),H(new h.Map({container:"map",center:D,zoom:11,style:k[window.location.hash.substr(1)],attributionControl:!1}))}),[Z,X]),Object(n.useEffect)((function(){G&&G.setCenter(D)}),[G,D]),Object(n.useEffect)((function(){G&&(G.dragRotate.disable(),G.touchZoomRotate.disableRotation(),G.on("touchend",P),G.on("zoomend",P),G.on("dragend",P),K.current&&K.current.searchRef.current.addEventListener("keyup",(function(e){ee(e.target.value)})),window.addEventListener("message",(function(e){var t=JSON.parse(e.data);t.style&&G&&(G.setStyle(k[t.style]),window.location.hash="#".concat(t.style)),t.size&&G&&$(t.size)})))}),[G,P]),Object(n.useEffect)((function(){y.a.get("https://api.ipapi.com/api/check?access_key=6d4c0f09aa78ad103b4927c2a7f00828").then((function(e){q(e.data.city),I(e.data.country_name),Q([e.data.longitude,e.data.latitude])})).catch((function(e){q("New York"),I("United States"),Q([-73.9808,40.7648])}))}),[]),Object(n.useEffect)((function(){return P()}),[G,C,R,Z,D]);var ee=function(){var e=Object(s.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(t),!t.length){e.next=7;break}return e.next=4,y.a.get("http://api.mapbox.com/geocoding/v5/mapbox.places/".concat(t,".json"),{params:{access_token:j,autocomplete:!0}});case 4:a=e.sent,n=a.data.features.map((function(e){return{key:e.id,value:e.place_name,text:e.place_name,center:e.center,country:e.context?e.context.map((function(e){return e.text})).join(", "):""}})),x(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(i.a.createElement("div",{id:"map-editor"},i.a.createElement("div",{className:"inputs-wrapper"},i.a.createElement(p.a,{className:"city-dropdown",ref:K,placeholder:"Search City",fluid:!0,search:!0,selection:!0,value:a,options:u,onChange:function(e,t){console.log(t);var a=u.find((function(e){return e.text===t.value}));G.flyTo({center:a.center,zoom:12,speed:3}),console.log(a),Q(a.center),q(a.value.split(",")[0]),I(a.country),c(t.text)}}),i.a.createElement(p.a,{className:"city-dropdown",placeholder:"Select Layout",fluid:!0,search:!0,selection:!0,options:N,onChange:function(e,t){return M(t.value)}}),i.a.createElement(g.a,{fluid:!0,label:"Headline Text",disabled:"without_text"===Z,value:C,onChange:function(e){return q(e.target.value)}}),i.a.createElement(g.a,{fluid:!0,label:"Secondary Text",disabled:"without_text"===Z,value:R,onChange:function(e){return I(e.target.value)}})),i.a.createElement(m.a,{maxScale:1},i.a.createElement(i.a.Fragment,null,"gradient"===Z&&i.a.createElement(w,{headlineText:C,secondaryText:R,sizes:z[X]}),"circle"===Z&&i.a.createElement(f,{headlineText:C,secondaryText:R,sizes:z[X]}),"circle-white"===Z&&i.a.createElement(b,{headlineText:C,secondaryText:R,sizes:z[X]}),"without_text"===Z&&i.a.createElement(v,{sizes:z[X]}),"rectangle"===Z&&i.a.createElement(E,{headlineText:C,secondaryText:R,sizes:z[X]}),"square"===Z&&i.a.createElement(T,{headlineText:C,secondaryText:R,sizes:z[X]})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[162,1,2]]]);
//# sourceMappingURL=main.22e7a70d.chunk.js.map