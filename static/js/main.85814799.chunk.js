(this["webpackJsonpstyled-maps-editor"]=this["webpackJsonpstyled-maps-editor"]||[]).push([[0],{162:function(e,t,a){e.exports=a(309)},168:function(e,t,a){},190:function(e,t,a){},192:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},309:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(27),i=a.n(r),l=a(82),o=a.n(l),s=a(136),d=a(24),u=(a(168),a(83)),m=a(137),p=a.n(m),x=a(84),f=a.n(x),v=a(317),h=a(318),y=(a(190),function(e){var t=e.headlineText,a=e.secondaryText;return(c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"editor-wrapper circle"},c.a.createElement("div",{className:"headline-text"},t),c.a.createElement("div",{id:"map"}),c.a.createElement("div",{className:"secondary-text"},a))))}),E=(a(191),a(192),function(e){var t=e.headlineText,a=e.secondaryText;return(c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"editor-wrapper gradient"},c.a.createElement("div",{id:"map"}),c.a.createElement("div",{className:"text-wrapper"},c.a.createElement("div",{className:"headline-text"},t),c.a.createElement("div",{className:"secondary-text"},a)))))}),g=(a(193),function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"editor-wrapper without-text"},c.a.createElement("div",{id:"map"})))}),b=(a(194),function(e){var t=e.headlineText,a=e.secondaryText;return(c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"editor-wrapper rectangle"},c.a.createElement("div",{id:"map",style:{height:"900px"}}),c.a.createElement("div",{className:"text-wrapper"},c.a.createElement("div",{className:"headline-text"},t),c.a.createElement("div",{className:"secondary-text"},a)))))}),w=(a(195),function(e){var t=e.headlineText,a=e.secondaryText;return(c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"editor-wrapper circle-white"},c.a.createElement("div",{className:"headline-text"},t),c.a.createElement("div",{id:"map"}),c.a.createElement("div",{className:"secondary-text"},a))))}),k=(a(196),function(e){var t=e.headlineText,a=e.secondaryText;return(c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"editor-wrapper square"},c.a.createElement("div",{id:"map",style:{width:"750px",height:"750px",marginLeft:"auto",marginRight:"auto",marginTop:"43px"}}),c.a.createElement("div",{className:"text-wrapper"},c.a.createElement("div",{className:"headline-text"},t),c.a.createElement("div",{className:"secondary-text"},a)))))}),T={blue:"mapbox://styles/kubatyi/ckdn1lgk80nbp1il7tbjdqnxm",red:"mapbox://styles/kubatyi/ckdo7qi431s7n1io4ya13jmvq",green:"mapbox://styles/kubatyi/ckdogvd6721wt1ioii4wlls2a",simple:"mapbox://styles/kubatyi/ckdoglnu937ix1it80v32fsno"},j="pk.eyJ1Ijoia3ViYXR5aSIsImEiOiJjazA2cmtleDEwMTc5M2NwZ3N3Z2plcGdnIn0.Nio3ZaFI2366HS56tW28wQ",N=[{key:"1",text:"Gradient",value:"gradient"},{key:"2",text:"Without Text",value:"without_text"},{key:"3",text:"Circle",value:"circle"},{key:"4",text:"Circle (Light)",value:"circle-white"},{key:"5",text:"Rectangle",value:"rectangle"},{key:"6",text:"Square",value:"square"}],O=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)([]),l=Object(d.a)(i,2),m=l[0],x=l[1],O=Object(n.useState)(""),S=Object(d.a)(O,2),C=S[0],_=S[1],F=Object(n.useState)(""),R=Object(d.a)(F,2),q=R[0],I=R[1],J=Object(n.useState)("gradient"),z=Object(d.a)(J,2),L=z[0],Z=z[1],M=Object(n.useState)(null),W=Object(d.a)(M,2),B=W[0],G=W[1],H=Object(n.useState)([0,0]),Y=Object(d.a)(H,2),A=Y[0],D=Y[1],Q=Object(n.useRef)(),U=Object(n.useCallback)((function(){if(B){var e={zoom:B.getZoom(),center:B.getCenter(),headlineText:C,secondaryText:q,layout:L};console.log(e),window.parent.postMessage(JSON.stringify(e),"*")}}),[B,C,q,L]);Object(n.useEffect)((function(){u.accessToken=j,G(new u.Map({container:"map",center:A,zoom:11,style:T[window.location.hash.substr(1)],attributionControl:!1}))}),[L]),Object(n.useEffect)((function(){B&&B.setCenter(A)}),[B,A]),Object(n.useEffect)((function(){B&&(B.dragRotate.disable(),B.touchZoomRotate.disableRotation(),B.on("touchend",U),B.on("zoomend",U),B.on("dragend",U),Q.current&&Q.current.searchRef.current.addEventListener("keyup",(function(e){V(e.target.value)})),window.addEventListener("message",(function(e){var t=JSON.parse(e.data);t.style&&B&&(B.setStyle(T[t.style]),window.location.hash="#".concat(t.style))})))}),[B,U]),Object(n.useEffect)((function(){f.a.get("https://api.ipapi.com/api/check?access_key=6d4c0f09aa78ad103b4927c2a7f00828").then((function(e){_(e.data.city),I(e.data.country_name),D([e.data.longitude,e.data.latitude])})).catch((function(e){_("New York"),I("United States"),D([-73.9808,40.7648])}))}),[]),Object(n.useEffect)((function(){return U()}),[B,C,q,L]);var V=function(){var e=Object(s.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(t),!t.length){e.next=7;break}return e.next=4,f.a.get("http://api.mapbox.com/geocoding/v5/mapbox.places/".concat(t,".json"),{params:{access_token:j,autocomplete:!0}});case 4:a=e.sent,n=a.data.features.map((function(e){return{key:e.id,value:e.place_name,text:e.place_name,center:e.center,country:e.context?e.context.map((function(e){return e.text})).join(", "):""}})),x(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(c.a.createElement("div",{id:"map-editor"},c.a.createElement("div",{className:"inputs-wrapper"},c.a.createElement(v.a,{className:"city-dropdown",ref:Q,placeholder:"Search City",fluid:!0,search:!0,selection:!0,value:a,options:m,onChange:function(e,t){console.log(t);var a=m.find((function(e){return e.text===t.value}));B.flyTo({center:a.center,zoom:12,speed:3}),console.log(a),D(a.center),_(a.value.split(",")[0]),I(a.country),r(t.text)}}),c.a.createElement(v.a,{className:"city-dropdown",placeholder:"Select Layout",fluid:!0,search:!0,selection:!0,options:N,onChange:function(e,t){return Z(t.value)}}),c.a.createElement(h.a,{fluid:!0,label:"Headline Text",disabled:"without_text"===L,value:C,onChange:function(e){return _(e.target.value)}}),c.a.createElement(h.a,{fluid:!0,label:"Secondary Text",disabled:"without_text"===L,value:q,onChange:function(e){return I(e.target.value)}})),c.a.createElement(p.a,{maxScale:1},c.a.createElement(c.a.Fragment,null,"gradient"===L&&c.a.createElement(E,{headlineText:C,secondaryText:q}),"circle"===L&&c.a.createElement(y,{headlineText:C,secondaryText:q}),"circle-white"===L&&c.a.createElement(w,{headlineText:C,secondaryText:q}),"without_text"===L&&c.a.createElement(g,null),"rectangle"===L&&c.a.createElement(b,{headlineText:C,secondaryText:q}),"square"===L&&c.a.createElement(k,{headlineText:C,secondaryText:q})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[162,1,2]]]);
//# sourceMappingURL=main.85814799.chunk.js.map