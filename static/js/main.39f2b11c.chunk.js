(this["webpackJsonpstyled-maps-editor"]=this["webpackJsonpstyled-maps-editor"]||[]).push([[0],{162:function(e,t,a){e.exports=a(303)},190:function(e,t,a){},303:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),o=a.n(c),i=a(82),s=a.n(i),l=a(135),u=a(27),d=a(83),p=a(136),m=a.n(p),f=a(137),b=a.n(f),v=a(311),g=a(312),y=(a(189),a(190),{blue:"mapbox://styles/kubatyi/ckdn1lgk80nbp1il7tbjdqnxm",red:"mapbox://styles/kubatyi/ckdo7qi431s7n1io4ya13jmvq",green:"mapbox://styles/kubatyi/ckdogvd6721wt1ioii4wlls2a",simple:"mapbox://styles/kubatyi/ckdoglnu937ix1it80v32fsno"}),w="pk.eyJ1Ijoia3ViYXR5aSIsImEiOiJjazA2cmtleDEwMTc5M2NwZ3N3Z2plcGdnIn0.Nio3ZaFI2366HS56tW28wQ",h=function(){var e=Object(n.useState)(y.red),t=Object(u.a)(e,2),a=(t[0],t[1],Object(n.useState)("New York")),c=Object(u.a)(a,2),o=c[0],i=c[1],p=Object(n.useState)([]),f=Object(u.a)(p,2),h=f[0],k=f[1],j=Object(n.useState)("New York"),O=Object(u.a)(j,2),x=O[0],E=O[1],S=Object(n.useState)("United States"),N=Object(u.a)(S,2),I=N[0],J=N[1],C=Object(n.useState)(null),z=Object(u.a)(C,2),M=z[0],Z=z[1],q=Object(n.useRef)();Object(n.useEffect)((function(){d.accessToken=w,Z(new d.Map({container:"map",center:[-73.9808,40.7648],zoom:11,style:y.red}))}),[]),Object(n.useEffect)((function(){if(M){M.on("touchend",(function(){var e={zoom:M.getZoom(),center:M.getCenter(),bearing:M.getBearing()};window.parent.postMessage(JSON.stringify(e),"*")})),q.current&&q.current.searchRef.current.addEventListener("keyup",(function(e){B(e.target.value)})),window.addEventListener("message",(function(e){var t=JSON.parse(e.data);t.style&&M&&M.setStyle(y[t.style])}))}}),[M]);var B=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i(t),!t.length){e.next=7;break}return e.next=4,b.a.get("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(t,".json"),{params:{access_token:w,autocomplete:!0}});case 4:a=e.sent,n=a.data.features.map((function(e){return{key:e.id,value:e.place_name,text:e.place_name,center:e.center}})),k(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(r.a.createElement("div",{id:"map-editor"},r.a.createElement("div",{className:"inputs-wrapper"},r.a.createElement(v.a,{className:"city-dropdown",ref:q,placeholder:"Select City",fluid:!0,search:!0,selection:!0,value:o,options:h,onChange:function(e,t){var a=h.find((function(e){return e.value===t.value}));M.flyTo({center:a.center,zoom:12}),i(t.value)}}),r.a.createElement(g.a,{fluid:!0,placeholder:"Headline text",value:x,onChange:function(e){return E(e.target.value)}}),r.a.createElement(g.a,{fluid:!0,placeholder:"Secondary text",value:I,onChange:function(e){return J(e.target.value)}})),r.a.createElement("div",{className:"editor-wrapper"},r.a.createElement(m.a,{maxScale:1},r.a.createElement("div",{id:"map"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[162,1,2]]]);
//# sourceMappingURL=main.39f2b11c.chunk.js.map